# idhider

An experimental ID obfuscator based on symmetric cryptography.

## Example

From `133742` to `hgb95qpcy4y50`

 * Your internal `uint64`-typed ID (i.e., autogenerated by your RDBMS): `133742`
 * The "public" (encrypted) ID derived from it: `5781761883846612620` (still an
   `uint64`)
 * The human version (and URL-safe) of the public ID: `hgb95qpcy4y50`
   (Crockford's Base 32-encoded.)

## How it works

Use of Blowfish (from `golang.org/x/crypto`) because:
 * it works on 64-bit blocks (the secret key can be much larger though),
 * it provides [format-preserving encryption](https://en.wikipedia.org/wiki/Format-preserving_encryption)
   (the encrypted ID is an `uint64` integer as well.)

## Usage

Code:
```go
hider, _ := idhider.NewIDHider([]byte("xxxxxxxxxxxxxxxx")) // 128-bit secret key
var id uint64 = 42
fmt.Println("Internal ID (secret):", id)
hid := hider.HumanPublicID(id)
fmt.Println("Human public ID:", hid)
fmt.Println("Back to internal secret ID:", hider.HumanToID(hid))
```

Output:
```console
Internal ID (secret): 42
Human public ID: m1n033ptmfrxp
Back to internal secret ID: 42
```
